---
layout: intro
---

### Часть 4
# Вызовы

<!--
##########################################################################################################################################
-->

---
layout: default
image: /part4/draw.png
subtitle: Вызовы
---

<!--
##########################################################################################################################################
-->

---
layout: default
image: /part4/html.png
subtitle: Вызовы
---

<!--
##########################################################################################################################################
-->

---
layout: default
image: /part4/sections.png
subtitle: Вызовы
---

<!--
##########################################################################################################################################
-->

---
layout: two-cols
subtitle: Вызовы
---

# У ProseMirror нет расширений
это похоже на Redux, много сущностей
* мы сделали что-то типа slice в Redux Toolkit
* но вызов дальше – сделать расширение для обоих режимов
    * создаем расширенный маркдаун YFM плагины
    * создаем рантайм, превью – публикуем в Diplodoc
    * пишем разные штуки для ProseMirror
  
<!--
##########################################################################################################################################
-->

---
layout: center
---

# Тут пример с Redux toolkit

<!--
##########################################################################################################################################
-->


---
layout: center
---

# Тут пример с Redux

<!--
##########################################################################################################################################
-->


---
layout: default
image: /part4/manager.png
subtitle: Вызовы
---

<!--
##########################################################################################################################################
-->

---
layout: two-cols
subtitle: Вызовы
---

# Сериализация и парсинг

нужно реализовать цепочку
* **Node ProseMirror -> строка в формате YFM -> html**
* строка в формате **YFM -> дерево токенов Markdown It -> Node ProseMirror**

<!--
##########################################################################################################################################
-->

---
layout: default
image: /part4/parser.png
subtitle: Вызовы
---

<!--
##########################################################################################################################################
-->

---
layout: default
image: /part4/serializer.png
subtitle: Вызовы
---

<!--
##########################################################################################################################################
-->

---
layout: center
---

# Сложности

<!--
##########################################################################################################################################
-->

---
layout: two-cols
subtitle: Вызовы
---

# Экранирование

вставили в режиме одном или другом

<!--
##########################################################################################################################################
-->

---
layout: default
image: /part4/real-wysiwyg.jpg
---

::title::
subtitle: Вызовы
&nbsp;

<!--
##########################################################################################################################################
-->

---
layout: two-cols
---

subtitle: Вызовы
&nbsp;

# Проблема с пустыми строками в списках

* философский вопрос – что первично?

<!--
##########################################################################################################################################
-->

---
layout: default
image: /part4/list-css.png
---

::title::
subtitle: Вызовы
&nbsp;

<!--
##########################################################################################################################################
-->

---
layout: two-cols
---

subtitle: Вызовы
&nbsp;

# Проблема с пустыми строками в списках

* философский вопрос – что первично?
* решили с помощью css

<!--
##########################################################################################################################################
-->


---
layout: default
image: /part4/css.png
---

::title::
subtitle: Вызовы
&nbsp;

<!--
##########################################################################################################################################
-->

---
layout: two-cols
---

subtitle: Вызовы
&nbsp;

# Раскукоживание таблиц

* вставили в режиме одном или другом

<!--
##########################################################################################################################################
-->

---
layout: default
image: /part4/solution.png
---

::title::
subtitle: Вызовы
&nbsp;

<!--
##########################################################################################################################################
-->

---
layout: two-cols
---

subtitle: Вызовы
&nbsp;

# Что считать информацией?

Информация это не только что в таблице, но и пробелы и перенос строки

<!--
##########################################################################################################################################
-->

---
layout: two-cols
---

subtitle: Вызовы
&nbsp;

# Хорошее решение

половина – учитывать переносы строк

<!--
##########################################################################################################################################
-->

---
layout: center
---

# Выводы

<!--
##########################################################################################################################################
-->
